workflow:
  name: KRN-test-wf
  description: just for test
  division: Home
  startUpRef: "/workflow/states/state[Initial State_10]"
  defaultLanguage: en-us
  supportedLanguages:
    en-us:
      none: true
  variables:
    - stringVariable:
        name: Flow.error
        initialValue:
          noValue: true
        isInput: false
        isOutput: false
    - stringCollectionVariable:
        name: Flow.timeoffNames
        initialValue:
          noValue: true
        isInput: false
        isOutput: true
    - stringCollectionVariable:
        name: Flow.timeoffTypeIds
        initialValue:
          noValue: true
        isInput: false
        isOutput: true
  settingsErrorHandling:
    errorHandling:
      endWorkflow:
        none: true
  states:
    - state:
        name: Initial State
        refId: Initial State_10
        variables:
          - stringVariable:
              name: State.errorCode
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: State.errorMessage
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - integerVariable:
              name: State.errorStatus
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringCollectionVariable:
              name: State.timeoffNames
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringCollectionVariable:
              name: State.timeoffTypeIds
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - callData:
              name: Call Data Action
              timeout:
                lit:
                  minutes: 1
              category:
                Web Services Data Actions (WFM-HR):
                  dataAction:
                    Get Time Off Types 2:
                      successOutputs:
                        timeOffTypes.id:
                          var: State.timeoffTypeIds
                        timeOffTypes.name:
                          var: State.timeoffNames
                        defaultHours.name:
                          noValue: true
                        defaultHours.amount:
                          noValue: true
                      failureOutputs:
                        errorCode:
                          var: State.errorCode
                        status:
                          var: State.errorStatus
                        correlationId:
                          noValue: true
                        entityId:
                          noValue: true
                        entityName:
                          noValue: true
                        userMessage:
                          var: State.errorMessage
                        userParamsMessage:
                          noValue: true
                        userParams.key:
                          noValue: true
                        userParams.value:
                          noValue: true
                        details.errorCode:
                          noValue: true
                        details.fieldName:
                          noValue: true
                        details.entityId:
                          noValue: true
                        details.entityName:
                          noValue: true
              outputs:
                success:
                  actions:
                    - updateData:
                        name: Update Data
                        statements:
                          - stringCollection:
                              variable: Flow.timeoffTypeIds
                              value:
                                exp: State.timeoffTypeIds
                          - stringCollection:
                              variable: Flow.timeoffNames
                              value:
                                exp: State.timeoffNames
                failure:
                  actions:
                    - updateData:
                        name: Update Data
                        statements:
                          - string:
                              variable: Flow.error
                              value:
                                exp: "\"'\" + State.errorMessage + \"',\" + State.errorCode + \",\" + ToString(State.errorStatus)"
          - endWorkflow:
              name: End Workflow
              exitReason:
                noValue: true
